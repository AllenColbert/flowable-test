<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>登录页面</title>


</head>
<body>
<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
<link th:href="@{/css/login.css}" rel="stylesheet">
<script th:src="@{/js/jquery.js}"></script>
<script th:src="@{/js/bootstrap.js}"></script>
<script th:src="@{/js/jquery-3.3.1.js}"></script>

<div class="container text-center">
    <form class="form-signin" >
        <h2 class="form-signin-heading">登录页面</h2>
        <input type="text" id="userId"  class="form-control" placeholder="用户名" required autofocus>
        <input type="password" id="password"  class="form-control" placeholder="密码" required>
        <button class="btn btn-lg btn-primary btn-block" type="button" onclick="ajax_ajax()">登录</button>
    </form>
</div>

</body>
<script>
    function ajax_ajax() {
        var userId =$("#userId").val();
        console.log(userId);
        var password = $("#password").val();
        console.log(password);
        //实现ajax方式ajax
        // url  请求路径
        // data 请求提交参数
        // type 请求方式
        // dataType 响应数据类型
        // async异步
        //success 请求成功 回调函数
        // error：请求失败 回调函数
        $.ajax({
            url:"/idm/login",
            data:{"userId":userId,"password":password},
            type:"POST",
            dataType:"text",
            async:false,
            success:function (data) {
                //返回数据
                alert(data);
                window.location.href="/task/myTask";
              //  window.location.href="/idm/logout";

            },
            error:function (data) {

                alert(data)
            }
        });
    }
</script>
</html>
